/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var roi = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[-156.053, -16.24],
          [-156.053, -44.968],
          [-118.633, -44.968],
          [-118.633, -16.24]]], null, false),
    pagbilao = /* color: #98ff00 */ee.Geometry.Polygon(
        [[[121.68068566441431, 13.930568567277785],
          [121.6913286697854, 13.922571028724288],
          [121.6909853470315, 13.919238639308986],
          [121.69716515660181, 13.918905397725407],
          [121.70403161167994, 13.925903370094705],
          [121.70025506138697, 13.92923566340969],
          [121.69785180210962, 13.932567908658642],
          [121.69819512486353, 13.937566186385128],
          [121.69750847935572, 13.942897563356514],
          [121.6961351883401, 13.946229611424169],
          [121.69201531529322, 13.946562813584517],
          [121.6909853470315, 13.95189398269822],
          [121.69510522007837, 13.956558654584526],
          [121.69579186558619, 13.961556412586862],
          [121.7023149979104, 13.963888662566982],
          [121.70643487095728, 13.957891400646893],
          [121.70849480748072, 13.964221839208621],
          [121.71158471226587, 13.96855309170487],
          [121.71776452183619, 13.96955259994675],
          [121.72566094517603, 13.967886750467393],
          [121.73287072300806, 13.967886750467393],
          [121.73733391880884, 13.96555454095734],
          [121.74385705113306, 13.966220888940846],
          [121.74866356968775, 13.969219431014725],
          [121.75381341099634, 13.966887234997055],
          [121.75999322056666, 13.96122323209146],
          [121.76548638462916, 13.954892711172272],
          [121.76891961216822, 13.947562417178244],
          [121.77681603550806, 13.94323077032838],
          [121.78299584507837, 13.938899042171862],
          [121.77612939000025, 13.938232615240384],
          [121.76685967564478, 13.940231890263115],
          [121.75621667027369, 13.942897563356514],
          [121.75038018345728, 13.942564355903556],
          [121.7462603104104, 13.938565828946603],
          [121.75278344273462, 13.934900451727945],
          [121.75278344273462, 13.92557013811999],
          [121.74694695591822, 13.920904840021587],
          [121.73802056431666, 13.917572426587817],
          [121.74385705113306, 13.904242292668604],
          [121.73870720982447, 13.900576371209521],
          [121.7407671463479, 13.894244188332133],
          [121.74832024693384, 13.88591210501625],
          [121.7554699540766, 13.88485391947166],
          [121.78705564743598, 13.911515652681867],
          [121.79254881149848, 13.924512133890872],
          [121.78739897018988, 13.937507884243706],
          [121.78499571091254, 13.941506429526708],
          [121.78980222946723, 13.946504513715729],
          [121.79220548874457, 13.965163071091967],
          [121.68165556198676, 13.985485851723668],
          [121.65487638718207, 13.966162594042883],
          [121.66345945602973, 13.952502071820541],
          [121.67616239792426, 13.93884074036703],
          [121.68783537155707, 13.923512430506669]]]),
    provinceBorder = ee.FeatureCollection("FAO/GAUL_SIMPLIFIED_500m/2015/level2");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
/**
 * This example generates an interpolated surface using kriging from a
 * FeatureCollection of random points that simulates a table of air temperature
 * at ocean weather buoys.
 */

// Average air temperature at 2m height for June, 2020.
var img = ee.Image('ECMWF/ERA5/MONTHLY/202006')
              .select(['mean_2m_air_temperature'], ['tmean']);

// Region of interest: South Pacific Ocean.
var roi = ee.Geometry.Polygon(
        [[[-156.053, -16.240],
          [-156.053, -44.968],
          [-118.633, -44.968],
          [-118.633, -16.240]]], null, false);

// Sample the mean June 2020 temperature surface at random points in the ROI.
var tmeanFc = img.sample(
  {region: roi, scale: 25000, numPixels: 50, geometries: true}); //250

// Generate an interpolated surface from the points using kriging; parameters
// are set according to interpretation of an unshown semivariogram. See section
// 2.1 of https://doi.org/10.14214/sf.369 for information on semivariograms.
var tmeanImg = tmeanFc.kriging({
  propertyName: 'tmean',
  shape: 'gaussian',
  range: 2.8e6,
  sill: 164,
  nugget: 0.05,
  maxDistance: 1.8e6,
  reducer: ee.Reducer.mean()
});

var tmeanImgClip = tmeanImg.clip(roi);

// Display the results on the map.
Map.setCenter(-137.47, -30.47, 3);
Map.addLayer(tmeanFc, {}, 'SST Data Points');
Map.addLayer(tmeanImgClip, {min: 279, max: 300}, 'Temperature (K)');